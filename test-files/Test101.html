<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>SLN Chat</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Lighter background and minimal noise */
    :root { --bg-color: #181f29; }
    body {
      background: var(--bg-color);
      color: #c9d1d9;
      font-family: 'Segoe UI', sans-serif;
    }
    .noise {
      background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII=');
      opacity: 0.005;
    }
    .header-bar {
      padding: .5rem 1rem;
      background: #202a36;
    }
    .chat-box {
      flex:1;
      overflow-y:auto;
      padding:1rem;
    }
    .msg-wrapper {
      display:flex;
      align-items:flex-end;
      gap:.75rem;
      margin-bottom:1rem;
    }
    .message {
      padding:.75rem 1rem;
      border-radius:1rem;
      max-width:75%;
      word-break: break-word;
    }
    .user {
      justify-content:flex-end;
    }
    .user .message {
      background:#238636;
      color:#fff;
    }
    .ai {
      justify-content:flex-start;
    }
    .ai .message {
      background:#21262d;
      color:#c9d1d9;
    }
    .avatar {
      width:32px;
      height:32px;
      border-radius:50%;
    }
    .input-area {
      padding:1rem;
      border-top:1px solid #30363d;
      background: #202a36;
    }
    .input-area textarea {
      resize:none;
      background: #2d3748;
      color: #c9d1d9;
      border: none;
    }
    .settings-icon {
      cursor:pointer;
      background: transparent;
      border: none;
      color: #c9d1d9;
      font-size: 1.2rem;
    }
  </style>
</head>
<body class="d-flex flex-column vh-100 noise">
  <!-- Top Bar -->
  <div class="d-flex align-items-center justify-content-between header-bar text-light">
    <div class="d-flex align-items-center gap-2">
      <button id="settingsChat" class="settings-icon">⚙️</button>
      <select id="modeChat" class="form-select form-select-sm bg-secondary text-white">
        <option value="chat" selected>Chat</option>
        <option value="ritual">Ritual</option>
      </select>
    </div>
    <div class="d-flex align-items-center gap-2">
      <select id="langChat" class="form-select form-select-sm bg-secondary text-white w-auto">
        <option value="en" selected>EN</option>
        <option value="hi">HI</option>
        <option value="mr">MR</option>
        <option value="ta">TA</option>
      </select>
      <select id="themeChat" class="form-select form-select-sm bg-secondary text-white w-auto">
        <option value="night" selected>Night</option>
        <option value="candle">Candle</option>
        <option value="rain">Rain</option>
        <option value="blank">Blank</option>
      </select>
    </div>
  </div>  <!-- Messages -->  <div id="chatBox" class="chat-box d-flex flex-column"></div>  <!-- Input -->  <div class="input-area">
    <div class="input-group">
      <textarea id="chatInput" class="form-control chat-input" rows="2" placeholder="Type what you feel..."></textarea>
      <button id="sendBtn" class="btn btn-primary ms-2">Send</button>
    </div>
  </div>  <!-- Bootstrap JS -->  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>  <script>
    // Anonymous user ID & Avatar
    const userId = localStorage.getItem('sln_user_id') || (() => {
      const id = 'SilentSoul' + Math.floor(Math.random() * 1000);
      localStorage.setItem('sln_user_id', id);
      return id;
    })();
    function getAvatar(id) {
      const hash = id.split('').reduce((a, b) => a + b.charCodeAt(0), 0);
      const colors = ['6f42c1','d63384','fd7e14','20c997'];
      return `https://ui-avatars.com/api/?name=${id}&background=${colors[hash%4]}&color=fff&size=64`;
    }

    const chatBox = document.getElementById('chatBox');
    const input = document.getElementById('chatInput');
    document.getElementById('sendBtn').onclick = sendMsg;
    input.addEventListener('keydown', e => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault(); sendMsg();
      }
    });

    function sendMsg() {
      const txt = input.value.trim();
      if (!txt) return;
      addMsg(userId, txt, 'user');
      input.value = '';
      setTimeout(() => addMsg('EXELIS', 'You’re heard. The quiet holds your words safe.', 'ai'), 700);
    }

    function addMsg(id, text, cls) {
      const wrapper = document.createElement('div');
      wrapper.className = `msg-wrapper ${cls}`;
      const avatar = document.createElement('img');
      avatar.src = getAvatar(id);
      avatar.className = 'avatar';
      const msg = document.createElement('div');
      msg.className = 'message';
      msg.textContent = text;
      wrapper.append(avatar, msg);
      chatBox.appendChild(wrapper);
      chatBox.scrollTop = chatBox.scrollHeight;
    }
  </script></body>
</html>