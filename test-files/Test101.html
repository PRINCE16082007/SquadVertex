<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>SLN Chat</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Softer, less dark theme */
    body {
      --bg: #273449;
      --header-bg: #365073;
      --input-bg: #f0f4f8;
      --user-msg: #4e9af1;
      --ai-msg: #a3bcd4;
      background-color: var(--bg);
      color: #ffffff;
      font-family: 'Segoe UI', sans-serif;
    }
    .header-bar {
      background-color: var(--header-bg);
      padding: 0.5rem 1rem;
    }
    .chat-box {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      background-color: #ffffff20;
    }
    .msg-wrapper {
      display: flex;
      align-items: flex-end;
      margin-bottom: 1rem;
    }
    .msg-wrapper.user {
      justify-content: flex-end;
    }
    .msg-wrapper.ai {
      justify-content: flex-start;
    }
    .message {
      padding: 0.75rem 1rem;
      border-radius: 1rem;
      max-width: 70%;
      word-break: break-word;
      color: #000;
    }
    .user .message {
      background-color: var(--user-msg);
    }
    .ai .message {
      background-color: var(--ai-msg);
    }
    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
    }
    .input-area {
      background-color: var(--input-bg);
      padding: 1rem;
    }
    .input-area textarea {
      resize: none;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
    }
    .settings-icon {
      background: none;
      border: none;
      color: #ffffff;
      font-size: 1.2rem;
      cursor: pointer;
    }
  </style>
</head>
<body class="d-flex flex-column vh-100">
  <!-- Top Bar -->
  <div class="header-bar d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center gap-2">
      <button id="settingsChat" class="settings-icon">⚙️</button>
      <select id="modeChat" class="form-select form-select-sm">
        <option value="chat" selected>Chat</option>
        <option value="ritual">Ritual</option>
      </select>
    </div>
    <div class="d-flex align-items-center gap-2">
      <select id="langChat" class="form-select form-select-sm">
        <option value="en" selected>EN</option>
        <option value="hi">HI</option>
        <option value="mr">MR</option>
        <option value="ta">TA</option>
      </select>
      <select id="themeChat" class="form-select form-select-sm">
        <option value="light" selected>Light</option>
        <option value="dark">Dark</option>
      </select>
    </div>
  </div>  <!-- Messages -->  <div id="chatBox" class="chat-box d-flex flex-column"></div>  <!-- Input -->  <div class="input-area">
    <div class="input-group">
      <textarea id="chatInput" class="form-control" rows="2" placeholder="Type what you feel..."></textarea>
      <button id="sendBtn" class="btn btn-primary ms-2">Send</button>
    </div>
  </div>  <!-- Bootstrap JS -->  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>  <script>
    // Anonymous user ID & Avatar
    const userId = localStorage.getItem('sln_user_id') || (() => {
      const id = 'SilentSoul' + Math.floor(Math.random() * 1000);
      localStorage.setItem('sln_user_id', id);
      return id;
    })();
    function getAvatar(id) {
      const hash = id.split('').reduce((a, b) => a + b.charCodeAt(0), 0);
      const colors = ['ff6b6b','54a0ff','1dd1a1','feca57'];
      return `https://ui-avatars.com/api/?name=${id}&background=${colors[hash%4]}&color=000&size=64`;
    }

    const chatBox = document.getElementById('chatBox');
    const input = document.getElementById('chatInput');
    document.getElementById('sendBtn').onclick = sendMsg;
    input.addEventListener('keydown', e => {
      if (e.key === 'Enter' && !e.shiftKey) {
        e.preventDefault(); sendMsg();
      }
    });

    function sendMsg() {
      const txt = input.value.trim();
      if (!txt) return;
      addMsg(userId, txt, 'user');
      input.value = '';
      setTimeout(() => addMsg('EXELIS', 'You’re heard. The quiet holds your words safe.', 'ai'), 700);
    }

    function addMsg(id, text, cls) {
      const wrapper = document.createElement('div');
      wrapper.className = `msg-wrapper ${cls}`;
      const avatar = document.createElement('img');
      avatar.src = getAvatar(id);
      avatar.className = 'avatar';
      const msg = document.createElement('div');
      msg.className = 'message';
      msg.textContent = text;
      wrapper.append(avatar, msg);
      chatBox.appendChild(wrapper);
      chatBox.scrollTop = chatBox.scrollHeight;
    }
  </script></body>
</html>