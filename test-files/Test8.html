<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seating Arrangement</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react-dnd/dist/ReactDnD.min.js"></script>
    <script src="https://unpkg.com/react-dnd-html5-backend/dist/ReactDnDHTML5Backend.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .container { display: flex; gap: 20px; padding: 20px; }
        .students, .rooms { border: 1px solid #ccc; padding: 10px; }
        .student { padding: 5px; background: blue; color: white; margin: 5px; cursor: pointer; }
        .seat { width: 40px; height: 40px; border: 1px solid gray; display: inline-block; text-align: center; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;
        const { DndProvider, useDrag, useDrop } = ReactDnD;
        const { HTML5Backend } = ReactDnDHTML5Backend;const students = [
        { id: 1, name: "Aryan", class: "10A", gender: "M" },
        { id: 2, name: "Priya", class: "10A", gender: "F" }
    ];

    const rooms = [
        { id: "101", layout: [4, 5, 4, 5], type: "Boys" },
        { id: "102", layout: [5, 5, 5, 5], type: "Girls" }
    ];

    function StudentIcon({ student }) {
        const [{ isDragging }, drag] = useDrag(() => ({
            type: "STUDENT",
            item: student,
            collect: (monitor) => ({
                isDragging: !!monitor.isDragging(),
            }),
        }));
        return (
            <div ref={drag} className="student">
                {student.name} ({student.class}-{student.gender})
            </div>
        );
    }

    function Seat({ seatId, onDrop }) {
        const [{ isOver }, drop] = useDrop(() => ({
            accept: "STUDENT",
            drop: (item) => onDrop(item, seatId),
            collect: (monitor) => ({
                isOver: !!monitor.isOver(),
            }),
        }));
        return (
            <div ref={drop} className="seat" style={{ background: isOver ? "lightgreen" : "white" }}>
                {seatId}
            </div>
        );
    }

    function Room({ room, onDropStudent }) {
        return (
            <div className="room">
                <h2>Room {room.id} ({room.type})</h2>
                {room.layout.map((cols, rowIndex) => (
                    <div key={rowIndex}>
                        {[...Array(cols)].map((_, colIndex) => (
                            <Seat key={colIndex} seatId={`${room.id}-${rowIndex}-${colIndex}`} onDrop={onDropStudent} />
                        ))}
                    </div>
                ))}
            </div>
        );
    }

    function SeatingArrangement() {
        const [seating, setSeating] = useState({});
        const handleDropStudent = (student, seatId) => {
            setSeating((prev) => ({ ...prev, [seatId]: student }));
        };
        return (
            <DndProvider backend={HTML5Backend}>
                <div className="container">
                    <div className="students">
                        <h2>Students</h2>
                        {students.map((s) => (
                            <StudentIcon key={s.id} student={s} />
                        ))}
                    </div>
                    <div className="rooms">
                        {rooms.map((room) => (
                            <Room key={room.id} room={room} onDropStudent={handleDropStudent} />
                        ))}
                    </div>
                </div>
            </DndProvider>
        );
    }

    ReactDOM.render(<SeatingArrangement />, document.getElementById("root"));
</script>

</body>
</html>