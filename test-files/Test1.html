<!DOCTYPE html>
<html>
<head>
  <title>Create Your Profile</title>
  <script type="module">
    // Firebase v11.9.0 SDK (Your version)
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-firestore.js";

    // ðŸ”§ Your Firebase config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MSG_ID",
      appId: "YOUR_APP_ID"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function submitName(e) {
      e.preventDefault();
      const name = document.getElementById("creatorName").value.trim();
      if (!name) return alert("Name is required!");

      try {
        const docRef = await addDoc(collection(db, "test"), {
          name: name,
          createdAt: Date.now()
        });

        // âœ… Redirect to profile view page with ID
        window.location.href = `Test2.html?id=${docRef.id}`;
      } catch (err) {
        alert("Failed to save. Check console.");
        console.error(err);
      }
    }

    window.submitName = submitName;
  </script>
</head>
<body>
  <h2>Create Your Profile</h2>
  <form onsubmit="submitName(event)">
    <input type="text" id="creatorName" placeholder="Enter your name" required />
    <button type="submit">Submit</button>
  </form>
</body>
</html>