<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SV Schedule Tracker</title>
  <meta name="theme-color" content="#000000">  <!-- Fonts & Animations -->  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">  <!-- Chart.js -->  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  <style>
    :root { --primary-color: #ff758c; }
    body { background: linear-gradient(135deg,#fff5f5,#ffe3e3); font-family:'Pacifico',cursive; margin:0; min-height:100vh; }
    .container{max-width:1200px;margin:0 auto;padding:2rem;}
    .header{ text-align:center;padding:2rem; background:url('https://dl.dropboxusercontent.com/scl/fi/g7uokxp1jcb5xfunpnj0b/wp12130683-alice-in-borderland-netflix-wallpapers-1-1.jpg?rlkey=7c0qemn5qis2d4flmlt27rhz1&st=dxfrgghv&dl=0') center/cover;border-radius:20px;margin-bottom:2rem;box-shadow:0 8px 32px rgba(255,118,117,0.2); }
    .btn { background:#fff;color:var(--primary-color);border:2px solid var(--primary-color);padding:0.8rem 1.5rem;border-radius:30px;font-size:1rem;cursor:pointer;transition:all 0.3s ease;margin:0.5rem; }
    .btn:hover{background:var(--primary-color);color:#fff;box-shadow:0 4px 15px rgba(255,117,140,0.4);}
    .modal-{display:none;} /* for forms */
    .modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:1000;}
    .modal{background:#fff;padding:2rem;border-radius:8px;max-width:400px;width:90%;}
    .modal h3{margin-top:0;color:var(--primary-color);}
    .modal label{display:block;margin:0.5rem 0 0.2rem;font-size:0.9rem;}
    .modal input{width:100%;padding:0.5rem;border:1px solid #ccc;border-radius:4px;}
    .modal .actions{text-align:right;margin-top:1rem;}
    .close-btn{background:none;border:none;font-size:1.2rem;cursor:pointer;float:right;}
    /* existing styles... */
    .quote-container{background:rgba(255,255,255,0.9);padding:2rem;border-radius:15px;margin:2rem 0;border:2px solid var(--primary-color);}    
    .quote{font-family:'Great Vibes',cursive;font-size:2.2rem;color:#ff4d6d;text-shadow:2px 2px 4px rgba(255,77,109,0.2);margin:0;}
    .streak-box, .calendar, .chart-container, .gallery {margin:2rem 0;}
    .streak-box{background:linear-gradient(45deg,#ff758c,#ff7eb3);padding:2rem;border-radius:20px;color:#fff;text-align:center;box-shadow:0 4px 30px rgba(255,118,117,0.3);}
    .calendar, .rules-list{display:grid;grid-template-columns:repeat(7,1fr);gap:5px;background:#fff;padding:1rem;border-radius:15px;}
  </style></head>
<body>
  <div class="auth-container" id="authContainer" style="display:none; text-align:center; padding:2rem;">
    <button class="btn" id="signInBtn">Sign in with Google ðŸŒ¸</button>
  </div>  <div class="container" id="mainContainer" style="display:none;">
    <div class="user-info" id="userInfo"></div>
    <div class="header"><h1>ðŸŒ¹ My Eternal Growth Journey ðŸŒ¹</h1></div>
    <!-- Action buttons -->
    <div style="text-align:center;">
      <button class="btn" id="addTaskBtn">Add Task</button>
      <button class="btn" id="addRoutineBtn">Add Routine</button>
    </div><div class="quote-container animate__animated animate__fadeIn"><p class="quote" id="dynamicQuote"></p></div>

<div class="streak-box">
  ðŸ”¥ Current Streak: <span id="currentStreak">0</span> days &nbsp;&nbsp; ðŸŒ¸ Longest Streak: <span id="longestStreak">0</span> days<br><br>
  <button class="btn" id="markBtn">Mark Today ðŸ’–</button>
  <button class="btn" id="resetBtn">Reset ðŸŒ¼</button>
</div>

<div class="chart-container">
  <div class="calendar" id="calendar"></div>
</div>
<div class="chart-container"><canvas id="progressChart"></canvas></div>

<div class="gallery">
  <!-- existing gallery images... -->
</div>

  </div>  <!-- Modals -->  <div class="modal-overlay" id="taskModal">
    <div class="modal">
      <button class="close-btn" id="closeTaskModal">&times;</button>
      <h3>Add Task</h3>
      <label for="taskTime">Time</label>
      <input type="time" id="taskTime">
      <label for="taskDuration">Duration</label>
      <input type="text" id="taskDuration" placeholder="e.g. 30m">
      <label for="taskDesc">Description</label>
      <input type="text" id="taskDesc">
      <div class="actions">
        <button class="btn" id="saveTaskBtn">Save</button>
      </div>
    </div>
  </div>
  <div class="modal-overlay" id="routineModal">
    <div class="modal">
      <button class="close-btn" id="closeRoutineModal">&times;</button>
      <h3>Add Routine</h3>
      <label for="routineDesc">Routine</label>
      <input type="text" id="routineDesc">
      <div class="actions">
        <button class="btn" id="saveRoutineBtn">Save</button>
      </div>
    </div>
  </div>  <script type="module">
    // Firebase imports & init (same as before)
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, where } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js";
    import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js";

    const firebaseConfig = { /* your config */ };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth();
    const provider = new GoogleAuthProvider();

    let currentDate = new Date();
    let chart;
    const quotes = [ /* same quotes */ ];

    // Auth logic
    onAuthStateChanged(auth, user => {
      if(user) {
        document.getElementById('mainContainer').style.display = 'block';
        document.getElementById('authContainer').style.display = 'none';
        document.getElementById('userInfo').innerHTML = `ðŸ‘¤ ${user.email}<br><button onclick="auth.signOut()">Sign out</button>`;
        init();
      } else {
        document.getElementById('mainContainer').style.display = 'none';
        document.getElementById('authContainer').style.display = 'block';
      }
    });
    document.getElementById('signInBtn').addEventListener('click', ()=> signInWithPopup(auth, provider));

    async function init() {
      showRandomQuote(); initChart(); await renderCalendar(); updateStreakDisplay();
    }
    function showRandomQuote(){ document.getElementById('dynamicQuote').innerText = quotes[Math.floor(Math.random()*quotes.length)]; }
    function initChart(){ // same chart init }
    async function renderCalendar(){ // same calendar generation }
    function updateStreakDisplay(){ // same streak load }

    // Buttons & modals
    const taskModal = document.getElementById('taskModal'), routineModal = document.getElementById('routineModal');
    document.getElementById('addTaskBtn').onclick = ()=> taskModal.style.display='flex';
    document.getElementById('addRoutineBtn').onclick = ()=> routineModal.style.display='flex';
    document.getElementById('closeTaskModal').onclick = ()=> taskModal.style.display='none';
    document.getElementById('closeRoutineModal').onclick = ()=> routineModal.style.display='none';

    document.getElementById('saveTaskBtn').onclick = async ()=>{
      const user = auth.currentUser, date = currentDate.toISOString().split('T')[0];
      await addDoc(collection(db,'users',user.uid,'tasks'),{date, time:document.getElementById('taskTime').value, duration:document.getElementById('taskDuration').value, desc:document.getElementById('taskDesc').value, done:false});
      taskModal.style.display='none'; renderCalendar();
    };
    document.getElementById('saveRoutineBtn').onclick = async ()=>{
      const user = auth.currentUser, date = currentDate.toISOString().split('T')[0];
      await addDoc(collection(db,'users',user.uid,'rules'),{date, desc:document.getElementById('routineDesc').value, active:false});
      routineModal.style.display='none';
    };

    // existing streak & calendar nav & chart updates...
  </script></body>
</html>