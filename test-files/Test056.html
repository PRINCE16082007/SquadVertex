<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#000000">
  <title>TeamGalaxy — Entry (Upgraded)</title>  <!-- anime.js (already requested) -->  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>  <style>
    :root{
      --bg:#02020b;
      --accent-1: #ffd166;
      --accent-2: #ff8c42;
      --muted: #9aa4b2;
      --glass: rgba(255,255,255,0.06);
      --card-shadow: 0 10px 30px rgba(0,0,0,0.6);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: Inter, 'Segoe UI', system-ui, -apple-system, 'Helvetica Neue', Arial;
      background: radial-gradient(1200px 600px at 10% 10%, rgba(48,39,88,0.35), transparent),
                  radial-gradient(900px 400px at 90% 90%, rgba(2,12,36,0.45), transparent),
                  var(--bg);
      color:#fff;overflow:hidden;
    }

    /* full-screen canvas layers */
    .layer {
      position:fixed;inset:0;pointer-events:none;z-index:0;
    }

    #starsCanvas{z-index:0}
    #nebulaCanvas{z-index:0;mix-blend-mode:screen;opacity:0.35}
    #particlesCanvas{z-index:5}

    .ui{
      position:relative;z-index:10;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:28px;text-align:center;
    }

    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:16px;padding:28px 36px;backdrop-filter:blur(6px);box-shadow:var(--card-shadow);max-width:980px;width:100%;display:flex;flex-direction:column;align-items:center;gap:14px
    }

    .logo{font-weight:800;font-size:clamp(28px,6vw,44px);letter-spacing:2px;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow:0 6px 24px rgba(255,140,66,0.06)}
    .subtitle{color:var(--muted);max-width:760px;line-height:1.45;margin-top:6px}

    /* fancy button */
    .enter-btn{
      --w:140px;position:relative;display:inline-grid;place-items:center;padding:14px 28px;border-radius:999px;cursor:pointer;border:0;font-weight:700;font-size:14px;min-width:var(--w);background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));color:#000;/* will be overridden by inner */
      box-shadow:0 6px 30px rgba(0,0,0,0.6), 0 0 40px rgba(255,200,70,0.06);overflow:hidden
    }

    .enter-inner{display:flex;align-items:center;gap:12px;padding:8px 14px;border-radius:999px;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#061219}
    .enter-inner .label{font-weight:800;letter-spacing:1px}

    .hint{font-size:13px;color:var(--muted);margin-top:6px}

    /* spaceship container sits visually below card but in DOM it's here */
    .spaceship-wrap{position:relative;height:260px;width:260px;margin-top:18px}

    /* pure CSS base for spaceship (we will animate with anime.js) */
    .spaceship{width:120px;height:180px;position:relative;margin:0 auto;transform-origin:center bottom}

    /* spaceship pieces similar to original but cleaned */
    .nose{position:absolute;left:50%;transform:translateX(-50%);top:-10px;width:0;height:0;border-left:30px solid transparent;border-right:30px solid transparent;border-bottom:48px solid #7fb8ff;border-radius:6px}
    .nose-spot{position:absolute;left:50%;transform:translateX(-50%);top:2px;width:16px;height:16px;background:rgba(255,255,255,0.9);border-radius:50%;box-shadow:0 0 16px rgba(163,212,255,0.9)}
    .body{position:absolute;left:50%;transform:translateX(-50%);top:30px;width:64px;height:120px;background:linear-gradient(180deg,#3c8fe6,#1f6fbf);border-radius:36px 36px 28px 28px;box-shadow:inset 0 -12px 30px rgba(0,0,0,0.35)}
    .window{position:absolute;left:50%;transform:translateX(-50%);top:50px;width:34px;height:34px;border-radius:50%;background:radial-gradient(circle at 30% 25%,#ffffff,#bfe7ff 30%,#7fb7e6 70%);box-shadow:0 0 20px rgba(163,212,255,0.9),inset 0 6px 12px rgba(255,255,255,0.2)}
    .fin{position:absolute;top:86px;width:0;height:0;border-top:36px solid transparent;border-bottom:36px solid transparent}
    .fin.left{left:-24px;border-right:30px solid #e14b3b;transform:rotate(-12deg)}
    .fin.right{right:-24px;border-left:30px solid #e14b3b;transform:rotate(12deg)}
    .engine{position:absolute;left:50%;transform:translateX(-50%);bottom:-6px;width:44px;height:36px;background:linear-gradient(180deg,#2b3b4f,#18212b);border-radius:12px}
    .flame{position:absolute;left:50%;transform:translateX(-50%);bottom:-70px;width:28px;height:90px;border-radius:50%;filter:blur(6px);opacity:0.95;background:linear-gradient(to top,#ff3b30,#ff8a00,#ffd400,#fff8d6)}

    /* particles placeholder for CSS when JS is disabled */
    .particles-fallback{position:absolute;inset:0;pointer-events:none}

    /* accessibility focus */
    button:focus{outline:3px solid rgba(255,200,70,0.28);outline-offset:4px}

    /* small screen tweaks */
    @media (max-width:700px){
      .card{padding:20px}
      .spaceship-wrap{height:180px;width:180px}
      .spaceship{width:80px;height:120px}
    }

    /* reduced motion honors */
    @media (prefers-reduced-motion:reduce){
      .enter-btn{transition:none}
      *{animation:none!important}
    }
  </style></head>
<body>  <!-- CANVASES: stars, nebula and particle trails --><canvas id="starsCanvas" class="layer" aria-hidden="true"></canvas> <canvas id="nebulaCanvas" class="layer" aria-hidden="true"></canvas> <canvas id="particlesCanvas" class="layer" aria-hidden="true"></canvas>

  <main class="ui" role="main">
    <div class="card" id="card">
      <div class="logo" id="logo">TEAMGALAXY</div>
      <div class="subtitle" id="subtitle">Where gamers unite, creators spark and communities level up — you in?</div><div class="spaceship-wrap" aria-hidden="true">
    <div class="spaceship" id="spaceship">
      <div class="nose"></div>
      <div class="nose-spot"></div>
      <div class="body"></div>
      <div class="window"></div>
      <div class="fin left"></div>
      <div class="fin right"></div>
      <div class="engine"></div>
      <div class="flame" id="flame" style="opacity:0"></div>
    </div>
  </div>

  <button class="enter-btn" id="enterBtn" aria-label="Enter TeamGalaxy">
    <div class="enter-inner" aria-hidden="true">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="transform:translateY(1px)"><path d="M5 12h14M12 5l7 7-7 7" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <span class="label">ENTER</span>
    </div>
  </button>

  <div class="hint" id="hint">Press <strong>Enter</strong> or click to launch · Or wait for auto-launch</div>

</div>

  </main>  <script>
    // ---- CONFIG
    const AUTO_LAUNCH_MS = 5000; // auto launch delay
    const STARS = 220; // number of stars
    const canvasStars = document.getElementById('starsCanvas');
    const canvasNebula = document.getElementById('nebulaCanvas');
    const canvasParticles = document.getElementById('particlesCanvas');
    const ctxStars = canvasStars.getContext('2d');
    const ctxNeb = canvasNebula.getContext('2d');
    const ctxParts = canvasParticles.getContext('2d');

    let w = innerWidth, h = innerHeight;
    [canvasStars, canvasNebula, canvasParticles].forEach(c=>{c.width=w;c.height=h});

    // Respect reduced motion
    const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // Responsive resize
    window.addEventListener('resize', () => {
      w = innerWidth; h = innerHeight;
      [canvasStars, canvasNebula, canvasParticles].forEach(c=>{c.width=w;c.height=h});
      generateStars(); drawNebula();
    });

    // ---- STARS (canvas) - twinkle & parallax
    let stars = [];
    function random(min,max){return Math.random()*(max-min)+min}
    function generateStars(){
      stars = [];
      for(let i=0;i<STARS;i++){
        stars.push({
          x: Math.random()*w,
          y: Math.random()*h,
          r: Math.random()*1.6 + 0.4,
          alpha: Math.random()*0.8 + 0.2,
          twinkleSpeed: Math.random()*0.03 + 0.005,
          phase: Math.random()*Math.PI*2
        });
      }
    }

    function drawStars(delta){
      ctxStars.clearRect(0,0,w,h);
      for(let s of stars){
        s.phase += s.twinkleSpeed * (delta/16);
        const a = s.alpha * (0.6 + 0.4*Math.sin(s.phase));
        ctxStars.beginPath();
        ctxStars.fillStyle = `rgba(255,255,255,${a})`;
        ctxStars.arc(s.x, s.y, s.r, 0, Math.PI*2);
        ctxStars.fill();
      }
    }

    // ---- NEBULA (soft gradient blobs)
    function drawNebula(){
      ctxNeb.clearRect(0,0,w,h);
      // draw a couple of soft radial gradients
      const blobs = [
        {x: w*0.12, y: h*0.18, r: Math.max(w,h)*0.6, c1: 'rgba(98,46,191,0.12)', c2:'rgba(108,54,170,0.02)'},
        {x: w*0.9, y: h*0.85, r: Math.max(w,h)*0.5, c1: 'rgba(6,18,67,0.12)', c2:'rgba(22,46,78,0.02)'}
      ];
      for(const b of blobs){
        const g = ctxNeb.createRadialGradient(b.x,b.y,0,b.x,b.y,b.r);
        g.addColorStop(0,b.c1); g.addColorStop(1,b.c2);
        ctxNeb.fillStyle = g; ctxNeb.fillRect(0,0,w,h);
      }
    }

    // ---- PARTICLE TRAIL (behind ship)
    let particles = [];
    function emitParticle(x,y){
      particles.push({x,y, vx: (Math.random()-0.5)*1.2, vy: - (Math.random()*1.6+1.6), life: random(500,1100), born: performance.now(), alpha:1, size: random(2,6)});
    }

    function drawParticles(now){
      ctxParts.clearRect(0,0,w,h);
      const gravity = 0.0012 * (h/800);
      for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        const t = now - p.born;
        if(t>p.life){ particles.splice(i,1); continue; }
        // simple physics
        p.vy += gravity;
        p.x += p.vx; p.y += p.vy;
        p.alpha = 1 - (t/p.life);
        const g1 = ctxParts.createRadialGradient(p.x,p.y,0,p.x,p.y,p.size*3);
        g1.addColorStop(0, `rgba(255,200,70,${p.alpha*0.95})`);
        g1.addColorStop(0.5, `rgba(255,120,40,${p.alpha*0.55})`);
        g1.addColorStop(1, `rgba(255,40,20,0)`);
        ctxParts.fillStyle = g1; ctxParts.beginPath(); ctxParts.arc(p.x,p.y,p.size,0,Math.PI*2); ctxParts.fill();
      }
    }

    // ---- animation loop
    let last = performance.now();
    function raf(now){
      const delta = now - last; last = now;
      drawStars(delta);
      drawParticles(now);
      if(!reduced) requestAnimationFrame(raf);
    }

    // ---- spaceship DOM element tracking for emission
    const shipEl = document.getElementById('spaceship');
    function shipPosition(){
      const rect = shipEl.getBoundingClientRect();
      // bottom center point for engine
      return {x: rect.left + rect.width/2, y: rect.bottom - 18};
    }

    // Emit particles while engine is on
    let emitInterval = null;
    function startEmitting(){
      if(emitInterval) return;
      emitInterval = setInterval(()=>{
        const pos = shipPosition();
        for(let i=0;i<3;i++) emitParticle(pos.x + (Math.random()-0.5)*18, pos.y + random(-6,6));
      }, 55);
    }
    function stopEmitting(){ clearInterval(emitInterval); emitInterval=null; }

    // ---- Sound (web audio) - small ascending launch rumble
    const AudioCtx = (window.AudioContext || window.webkitAudioContext);
    let audioCtx, master;
    function playLaunchSound(){
      if(!AudioCtx) return;
      audioCtx = new AudioCtx();
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'sawtooth';
      o.frequency.setValueAtTime(80, audioCtx.currentTime);
      o.frequency.linearRampToValueAtTime(520, audioCtx.currentTime + 2.6);
      g.gain.setValueAtTime(0, audioCtx.currentTime);
      g.gain.linearRampToValueAtTime(0.18, audioCtx.currentTime + 0.14);
      g.gain.linearRampToValueAtTime(0.06, audioCtx.currentTime + 2.6);
      o.connect(g); g.connect(audioCtx.destination);
      o.start(); o.stop(audioCtx.currentTime + 3);
    }

    // ---- anime.js timeline for launch
    let launchTimeline = null;
    function launchSequence({auto=false} = {}){
      if(reduced) return simpleLaunchFallback();
      if(launchTimeline) return; // already launched

      // small haptic-like visual bump
      anime.timeline({}).add({
        targets: '#card', scale:[1,0.985], duration:140, easing:'easeOutQuad'
      }).add({
        targets: '#card', scale:[0.985,1], duration:240, easing:'easeOutElastic', elasticity:350
      });

      // start flame visible and engine emission
      anime({targets:'#flame', opacity:[0,1], duration:260, easing:'easeInOutQuad'});
      startEmitting();
      playLaunchSound();

      // spaceship lift-off
      const startY = 0; // relative
      launchTimeline = anime.timeline({
        easing:'easeInOutCubic',
        duration: 2800,
        complete(){
          // upon leaving, fade everything
          anime({targets:['#card','.ui'], opacity:[1,0], duration:800, easing:'linear', delay:140});
          stopEmitting();
          // nothing forced — user can choose redirect; here we add a subtle confetti or final burst
          finalBurst();
        }
      });

      // wobble + tilt then ascend rapidly
      launchTimeline.add({
        targets: '#spaceship',
        translateY: [-8,-30], rotate:[0,-6], duration:260, easing:'easeOutSine'
      }).add({
        targets:'#spaceship',rotate:[-6,8],duration:260,easing:'easeInOutSine'
      }).add({
        targets:'#spaceship',translateY: [0, - (innerHeight + 260)], rotate: [8, 6], duration: 2100, easing:'cubicBezier(.11,.7,.22,.98)'
      }, '+=80');

      // flame scale pulse while ascending
      anime({
        targets:'#flame',
        height:[90,140],duration:400,loop:true, direction:'alternate', easing:'easeInOutSine'
      });

      // subtle ship scale up while leaving
      anime({targets:'#spaceship', scale:[1,1.06], duration:1400, easing:'easeOutSine'});

      // starfield parallax push (zoom blur)
      anime({targets:canvasStars, scale:[1,1.06], opacity:[1,0.12], duration:2400, easing:'easeInOutQuad'});

      // emit more particles quickly for the big burst
      const burstInterval = setInterval(()=>{
        const pos = shipPosition(); for(let i=0;i<6;i++) emitParticle(pos.x + (Math.random()-0.5)*38, pos.y + random(-12,12));
      }, 60);
      setTimeout(()=>clearInterval(burstInterval), 900);

      // small timeline to animate the logo text (glow)
      anime({targets:'#logo', textShadow: ['0 6px 24px rgba(255,140,66,0.06)','0 14px 46px rgba(255,140,66,0.18)'], duration:1600, easing:'easeOutCirc'});
    }

    function finalBurst(){
      // tiny camera shake on body
      anime({targets:'body', translateY:[0,-6,0], duration:900, easing:'easeOutCubic'});
    }

    function simpleLaunchFallback(){
      // reduced motion fallback: fade & small translate
      anime({targets:'#spaceship', translateY:[0,-160], opacity:[1,0], duration:700, easing:'easeOutCubic'});
      anime({targets:'#card', opacity:[1,0], duration:800});
    }

    // keyboard enter
    document.addEventListener('keydown', e=>{
      if(e.key === 'Enter') doLaunch({auto:false});
    });

    // click handler & UX
    const enterBtn = document.getElementById('enterBtn');
    let autoTimer = null; let interacted = false;
    enterBtn.addEventListener('click', ()=>{ interacted=true; doLaunch({auto:false}); });

    function doLaunch(opts){
      if(interacted && opts.auto) return; // ignore auto if user interacted
      launchSequence(opts);
      clearTimeout(autoTimer);
    }

    // set auto-launch with ability to cancel by interaction
    autoTimer = setTimeout(()=>{
      if(!interacted) doLaunch({auto:true});
    }, AUTO_LAUNCH_MS);

    // small 'enter' pulse to hint
    anime({
      targets:'.enter-inner', scale:[0.98,1], direction:'alternate', loop:true, duration:1200, easing:'easeInOutSine'
    });

    // star generation + raf start
    generateStars(); drawNebula(); if(!reduced) requestAnimationFrame(raf);

    // emit idle particles behind ship for visual life
    let idle = setInterval(()=>{ const pos = shipPosition(); emitParticle(pos.x + (Math.random()-0.5)*22, pos.y + random(-8,8)); }, 300);

    // stop idle when user interacts heavily
    ['click','touchstart','mousemove','keydown'].forEach(ev=> document.addEventListener(ev, ()=>{ interacted=true; if(idle){ clearInterval(idle); idle=null; } }));

    // small helper for random used in audio and elsewhere
    function random(min,max){return Math.random()*(max-min)+min}

    // initialize sizes properly
    (function init(){
      canvasStars.width = w; canvasStars.height = h;
      canvasNebula.width = w; canvasNebula.height = h;
      canvasParticles.width = w; canvasParticles.height = h;
      generateStars(); drawNebula();
      // subtle logo intro using anime.js
      anime.timeline({}).add({targets:'#logo', translateY:[20,0], opacity:[0,1], duration:900, easing:'spring(1,80,10,0)'}).add({targets:'#subtitle', translateY:[14,0], opacity:[0,1], duration:720, easing:'easeOutQuad'}, '-=300');
    })();

    // ensure we stop heavy loops on pagehide
    window.addEventListener('pagehide', ()=>{ stopEmitting(); if(!reduced) cancelAnimationFrame(raf); });
  </script></body>
</html>