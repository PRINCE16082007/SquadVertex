<!DOCTYPE html>
<html>
<head>
  <title>Modular Firebase AppCheck</title>
  <script type="module">
    import { db, auth, appCheckReady } from './components/firebase_setup.js';
    import { doc, getDoc } from "https://www.gstatic.com/firebasejs/11.9.0/firebase-firestore.js";

    async function init() {
      const token = await appCheckReady;
      console.log("‚úÖ Token Ready:", token);

      const docRef = doc(db, "test", "test1");
      const docSnap = await getDoc(docRef);

      if (docSnap.exists()) {
        console.log("üî• Data:", docSnap.data());
      } else {
        console.log("‚ùå No document");
      }
    }

    init();
  </script>
</head>
<body>
  <h1>App Check V2 Demo</h1>
</body>
</html>