<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Channel Data Fetch</title>
    <style>
        .channel-item {
            display: flex;
            align-items: center;
            background: #f0f0f0;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .channel-item img {
            border-radius: 50%;
            width: 80px;
            height: 80px;
            margin-right: 20px;
        }

        .channel-info {
            flex-grow: 1;
        }

        .reaction-container {
            margin-top: 10px;
        }

        .reaction-btn {
            margin-right: 10px;
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .like-btn {
            background-color: #4caf50;
            color: white;
        }

        .dislike-btn {
            background-color: #f44336;
            color: white;
        }

        .vip-badge {
            background-color: gold;
            color: black;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .test-button {
            margin-top: 10px;
            cursor: not-allowed;
        }

        .countdown-timer {
            margin-top: 10px;
            color: #555;
        }
    </style>
</head>
<body>
    <div id="channel-container">
        <div class="channel-item" id="channel-bg-1">
            <img src="https://dl.dropboxusercontent.com/s/37j3k83987641h70t17o0/Screenshot_20241022-200852?rlkey=xkal24dwto2vopavv1anfzncv" alt="Trapmelon">
            <div class="channel-info">
                <h3>Trapmelon</h3>
                <p class="subscriber-count" id="channel1-subscriber">Subscribers: Loading...</p>
                <p class="video-count" id="channel1-videos">Videos: Loading...</p>
                <!-- VIP Badge -->
                <div class="vip-badge">VIP</div>
                <a href="https://youtube.com/@trapmelon?si=mWbEINaPoj1rSWYg" class="visit-channel">Visit Channel</a>
                <div class="reaction-container">
                    <button class="reaction-btn like-btn" onclick="updateReaction('channel1', 'like')">üëç <span id="likesCount1">0</span></button>
                    <button class="reaction-btn dislike-btn" onclick="updateReaction('channel1', 'dislike')">üëé</button>
                </div>
                <button class="test-button" id="lockedButton" disabled>üîí CustomPortal</button>
                <div class="countdown-timer" id="timer">
                    <span id="countdown"></span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fetch Channel Data
        async function fetchChannelData(channelId) {
            const apiKey = "YOUR_YOUTUBE_API_KEY";
            const apiUrl = `https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${channelId}&key=${apiKey}`;
            const response = await fetch(apiUrl);
            const data = await response.json();
            if (data.items.length > 0) {
                const channel = data.items[0];
                return {
                    title: channel.snippet.title,
                    logo: channel.snippet.thumbnails.default.url,
                    subscribers: channel.statistics.subscriberCount,
                    videos: channel.statistics.videoCount,
                };
            } else {
                throw new Error("Channel not found");
            }
        }

        // Update HTML Content
        async function updateChannelContent() {
            try {
                // Replace 'CHANNEL_ID' with actual channel ID
                const channelId = "UC_aXah4WASB8YujZZCZ-QyA"; // Example channel ID
                const channelData = await fetchChannelData(channelId);

                // Update channel card
                document.querySelector("#channel-bg-1 img").src = channelData.logo;
                document.querySelector("#channel-bg-1 h3").textContent = channelData.title;
                document.querySelector("#channel1-subscriber").textContent = `Subscribers: ${channelData.subscribers}`;
                document.querySelector("#channel1-videos").textContent = `Videos: ${channelData.videos}`;
            } catch (error) {
                console.error("Error fetching channel data:", error);
            }
        }

        // Reaction Button Functionality
        function updateReaction(channelId, reactionType) {
            const likesCountEl = document.getElementById("likesCount1");
            if (reactionType === "like") {
                likesCountEl.textContent = parseInt(likesCountEl.textContent) + 1;
            }
            // Add logic for dislikes if needed
        }

        // Countdown Timer
        function startCountdown() {
            const targetDate = new Date().getTime() + 5 * 60 * 1000; // 5 minutes from now
            const countdownEl = document.getElementById("countdown");

            const interval = setInterval(() => {
                const now = new Date().getTime();
                const distance = targetDate - now;

                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownEl.textContent = `${minutes}:${seconds}`;

                if (distance < 0) {
                    clearInterval(interval);
                    countdownEl.textContent = "Expired";
                }
            }, 1000);
        }

        // Initialize
        updateChannelContent();
        startCountdown();
    </script>
</body>
</html>