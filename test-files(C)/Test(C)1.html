<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>„É¥„Ç°„Ç§„Éá„Éí„ÅÆÊÑõ„Å®ÊàêÈï∑Êó•Ë®ò</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico<!DOCTYPE html><html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vaidehi's Love & Growth Diary</nPS`
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Pacifico&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- FullCalendar CSS -->
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css' rel='stylesheet' />
    <style>
        :root {
            --primary-color: #ff758c;
            --secondary-color: #ff7eb3;
        }
        body {
            background: linear-gradient(135deg, #fff5f5, #ffe3e3);
            font-family: 'Pacifico', cursive;
            min-height: 100vh;
            margin: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .header {
            text-align: center;
            padding: 2rem;
            background: url('https://dl.dropboxusercontent.com/scl/fi/orf6i07ebo705jnq5tkx7/1744702095638.png?rlkey=6jvqg2lrucvw5c8vst71rg5kl&st=b6f6mw3y&dl=0') center/cover;
            border-radius: 20px;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(255, 118, 117, 0.2);
        }
        .quote-container {
            background: rgba(255, 255, 255, 0.9);
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            border: 2px solid var(--primary-color);
        }
        .quote {
            font-family: 'Great Vibes', cursive;
            font-size: 2.2rem;
            color: #ff4d6d;
            text-shadow: 2px 2px 4px rgba(255, 77, 109, 0.2);
            margin: 0;
        }
        .streak-box {
            background: linear-gradient(45deg, #ff758c, #ff7eb3);
            padding: 2rem;
            border-radius: 20px;
            color: white;
            margin: 2rem 0;
            box-shadow: 0 4px 30px rgba(255, 118, 117, 0.3);
            text-align: center;
        }
        .stats {
            font-size: 1.5rem;
            margin: 1rem 0;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        .insights {
            background: rgba(255,255,255,0.8);
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            font-family: sans-serif;
            color: #333;
        }
        .insights p { margin: 0.5rem 0; font-size: 1.2rem; }
        .calendar-container { margin: 2rem 0; }
        #calendar { background: #fff; border-radius: 8px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }
        .gallery img {
            width: 100%; height: 300px;
            object-fit: cover;
            border-radius: 15px;
            transition: transform 0.3s ease;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        .gallery img:hover { transform: scale(1.05); }
        button {
            background: #ffffff;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            padding: 1rem 2rem;
            border-radius: 30px;
            font-size: 1.2rem;
            margin: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        button:hover {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 15px rgba(255, 117, 140, 0.4);
        }
        .floating-heart {
            position: fixed;
            pointer-events: none;
            animation: float 3s ease-in-out infinite;
            font-size: 1.5rem;
        }
        @keyframes float { 0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);} }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåπ My Eternal Growth Journey üåπ</h1>
        </div>
        <div class="quote-container animate__animated animate__fadeIn">
            <p class="quote" id="dynamicQuote"></p>
        </div>
        <div class="streak-box">
            <div class="stats">
                üî• Current Streak: <span id="currentStreak">0</span> days<br>
                üå∏ Longest Streak: <span id="longestStreak">0</span> days
            </div>
            <button onclick="updateStreak(true)">Mark Today with Love üíñ</button>
            <button onclick="updateStreak(false)">Reset with Hope üåº</button>
        </div>
        <div class="insights">
            <p>üìä Last 7 Days Completion: <span id="weekRate">0%</span></p>
            <p>üìä Last 30 Days Completion: <span id="monthRate">0%</span></p>
            <p>üèÜ Best Streak Started On: <span id="bestDate">N/A</span></p>
        </div>
        <div class="calendar-container">
            <h3 style="text-align:center;">Your Calendar</h3>
            <div id='calendar'></div>
        </div>
                <div class="gallery">
            <!-- All converted Dropbox images -->
            <img src="https://dl.dropboxusercontent.com/scl/fi/iyoip2szrkc75jaa4fvt8/1744702103477.png?rlkey=t1dnt38p8d10si5kc1g3a0muu&st=0d550m20&dl=0" alt="Love 1">
            <img src="https://dl.dropboxusercontent.com/scl/fi/yd5t9umsft1reuna9nq1x/8699159.jpg?rlkey=5p045rpx6in7mk3tftvotc8h9&st=jdjqjij2&dl=0" alt="Love 2">
            <img src="https://dl.dropboxusercontent.com/scl/fi/li65moz6nce3eqew5a2ap/1744702113306.png?rlkey=vjmagd7llnkpq4lw8jwsi13bz&st=6k9yn9w1&dl=0" alt="Love 3">
            <img src="https://dl.dropboxusercontent.com/scl/fi/ut6j5yj46s521ahh8oti9/1744702120067.png?rlkey=23fn1u1vpalsvbihq008kdu3a&st=ctjlgfkb&dl=0" alt="Love 4">
            <img src="https://dl.dropboxusercontent.com/scl/fi/fs8m03izpb5zuilxm307o/1744702130999.png?rlkey=hu0os1g9f3fjmo7a8ljyv9akh&st=ervmrg8l&dl=0" alt="Love 5">
            <img src="https://dl.dropboxusercontent.com/scl/fi/ih79814t1c2od22jmdbfw/8699161.jpg?rlkey=vxrzhkc3id3njeli1xza6gitc&st=nl3i6xwk&dl=0" alt="Love 6">
        </div>
    </div>
    <!-- Scripts -->
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js'></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import { getFirestore, doc, setDoc, getDoc, collection, query, orderBy, limit, getDocs, where } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js";const firebaseConfig = { apiKey:"AIzaSyBV7Jg0BVzeCNQW9oiIiNItnejUsjj2DhA", authDomain:"squadvertex2007.firebaseapp.com", projectId:"squadvertex2007", storageBucket:"squadvertex2007.appspot.com", messagingSenderId:"168905083514", appId:"1:168905083514:web:c8bbe2ce9f87800a0f09c3" };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const quotes = ["No matter what we build‚Äîlet's never forget who we‚Äôre building it for.","Some people seek peace in silence. I found mine in a smile I‚Äôve never met.","You are my today and all of my tomorrows.","In your light I learn how to love. In your beauty, how to make poems.","I love you not because of who you are, but because of who I am when I am with you.","Every atom of my being is in love with every atom of yours.","I would rather spend one lifetime with you, than face all the ages of this world alone.","Your love is my eternal motivation to grow better every day üå∏"];

    let userId = localStorage.getItem('userId');
    if (!userId) { userId = 'user_'+Math.random().toString(36).substr(2,9); localStorage.setItem('userId', userId); }

    window.updateStreak = async function(isCompleted) {
        const userRef = doc(db,"streaks",userId);
        const docSnap = await getDoc(userRef);
        let currentStreak=0,longestStreak=0;
        const today=new Date().toISOString().split('T')[0];
        if(docSnap.exists()){
            const data=docSnap.data();
            currentStreak=data.lastUpdate!==today && isCompleted? data.currentStreak+1 : (data.lastUpdate===today? data.currentStreak : 0);
            longestStreak=Math.max(data.longestStreak,currentStreak);
        } else {currentStreak=isCompleted?1:0; longestStreak=currentStreak;}
        await setDoc(userRef,{currentStreak,longestStreak,lastUpdate:today,timestamp:new Date()});
        updateUI(currentStreak,longestStreak); createHearts(); showRandomQuote(); updateInsights(); renderCalendar();
    }

    function updateUI(c,l){ document.getElementById('currentStreak').textContent=c; document.getElementById('longestStreak').textContent=l;}        
    function showRandomQuote(){ document.getElementById('dynamicQuote').textContent=quotes[Math.floor(Math.random()*quotes.length)]; }
    function createHearts(){ for(let i=0;i<5;i++){const h=document.createElement('div');h.innerHTML='‚ù§Ô∏è';h.className='floating-heart';h.style.left=Math.random()*95+'%';h.style.animationDelay=Math.random()*2+'s';document.body.appendChild(h);setTimeout(()=>h.remove(),3000);} }

    async function updateInsights(){
        const recCol=collection(db,'streaks',userId,'records');
        const snap=await getDocs(query(recCol,orderBy('date','desc'),limit(30)));
        const recs=snap.docs.map(d=>d.data());
        const last7=recs.slice(0,7); document.getElementById('weekRate').textContent=((last7.filter(r=>r.status==='Yes').length/7)*100).toFixed(0)+'%';
        document.getElementById('monthRate').textContent=((recs.filter(r=>r.status==='Yes').length/30)*100).toFixed(0)+'%';
        let best=0,cur=0,bestDate=null; recs.reverse().forEach(r=>{ if(r.status==='Yes'){cur++;if(cur===1)bestDate=r.date;best=Math.max(best,cur);} else cur=0;});
        document.getElementById('bestDate').textContent=bestDate||'N/A';
    }

    function renderCalendar(){
        const calendarEl=document.getElementById('calendar'); calendarEl.innerHTML='';
        const calendar=new FullCalendar.Calendar(calendarEl,{ initialView:'dayGridMonth', headerToolbar:{left:'prev,next today',center:'title',right:''},events: async function(info,success){
            const snap=await getDocs(collection(db,'streaks',userId,'records'));
            const events=snap.docs.map(d=>{const x=d.data();return{title:x.status,start:x.date,color:x.status==='Yes'?'#4caf50':'#f44336'};}); success(events);
        }});
        calendar.render();
    }

    (async function init(){ showRandomQuote(); updateUI(0,0); updateInsights(); renderCalendar(); setInterval(showRandomQuote,10000); })();
</script>

</body>
</html>