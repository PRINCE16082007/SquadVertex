<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Daily Inspiration & Routine Tracker</title>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #4e54c8;
      --secondary: #8f94fb;
      --accent: #ff6a88;
      --text: #333;
      --bg: #f5f7fa;
      --card-bg: #ffffff;
    }
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: var(--text);
      display:flex; justify-content:center; padding:40px 0;
    }
    #main {
      width: 100%; max-width: 800px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      overflow: hidden;
      animation: popIn 0.6s ease-out;
    }
    @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .header {
      background: var(--accent);
      color: #fff;
      padding: 25px;
      text-align: center;
    }
    .header h1 { font-weight: 400; font-size: 1.8em; }
    .quote {
      margin: 20px 30px;
      font-style: italic;
      font-size: 1.2em;
      text-align: center;
      position: relative;
      animation: fadeIn 1.5s ease-in;
    }
    .quote::before {
      content: '“';
      position: absolute;
      top: -10px;
      left: 20px;
      font-size: 2.5em;
      color: var(--accent);
    }
    .quote::after {
      content: '”';
      position: absolute;
      bottom: -10px;
      right: 20px;
      font-size: 2.5em;
      color: var(--accent);
    }
    @keyframes fadeIn { to { opacity:1; } }
    #streak {
      text-align: center;
      font-size: 1.3em;
      margin: 10px 0 20px;
      font-weight: 600;
      animation: fadeIn 1.5s ease-in 0.5s;
    }
    .actions {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
      animation: fadeIn 1.5s ease-in 1s;
    }
    .actions button {
      flex:1;
      max-width: 120px;
      padding: 14px;
      border:none;
      border-radius: 8px;
      font-size: 1em;
      font-weight: 600;
      color: #fff;
      cursor: pointer;
      transition: transform 0.2s, background 0.3s;
    }
    .actions button:hover { transform: translateY(-4px); }
    .yes { background: #4caf50; }
    .no { background: #f44336; }
    .actions button:disabled { background: #ccc; cursor: not-allowed; transform: none; }
    #history {
      margin: 0 30px 20px;
      border-radius: 8px;
      background: var(--bg);
      overflow-y: auto;
      max-height: 200px;
      animation: fadeIn 1.5s ease-in 1.5s;
    }
    #history table { width: 100%; border-collapse: collapse; }
    #history th, #history td { padding: 10px; text-align: center; }
    #history tr:nth-child(even) { background: #e9ecef; }
    .section {
      animation: fadeIn 1.5s ease-in 1.8s;
    }
    #gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px,1fr));
      gap: 10px;
      margin: 0 30px 20px;
    }
    #gallery img {
      width: 100%; height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      animation: popIn 0.5s ease-out;
    }
    #chartContainer, #monthlyContainer {
      padding: 0 30px 30px;
      animation: fadeIn 1.5s ease-in 2.1s;
    }
  </style>
</head>
<body>
  <div id="main">
    <div class="header">
      <h1>Daily Inspiration & Routine</h1>
    </div>
    <div class="quote" id="quote">Loading inspiration...</div>
    <div id="streak">Current Streak: <span id="streakCount">0</span> days</div>
    <div class="actions">
      <button class="yes" id="markYes">Yes</button>
      <button class="no" id="markNo">No</button>
    </div>
    <div id="history">
      <table>
        <thead><tr><th>Date</th><th>Status</th></tr></thead>
        <tbody id="historyBody"></tbody>
      </table>
    </div>
    <div id="chartContainer" class="section">
      <h3 style="text-align:center; margin-bottom:10px;">Last 7 Days</h3>
      <canvas id="chart"></canvas>
    </div>
    <div id="monthlyContainer" class="section">
      <h3 style="text-align:center; margin-bottom:10px;">Monthly Summary</h3>
      <canvas id="lineChart"></canvas>
    </div>
    <div id="gallery" class="section">
      <img src="https://dl.dropboxusercontent.com/scl/fi/iyoip2szrkc75jaa4fvt8/1744702103477.png?dl=1" alt="Image 1">
      <img src="https://dl.dropboxusercontent.com/scl/fi/li65moz6nce3eqew5a2ap/1744702113306.png?dl=1" alt="Image 2">
      <img src="https://dl.dropboxusercontent.com/scl/fi/ut6j5yj46s521ahh8oti9/1744702120067.png?dl=1" alt="Image 3">
      <img src="https://dl.dropboxusercontent.com/scl/fi/fs8m03izpb5zuilxm307o/1744702130999.png?dl=1" alt="Image 4">
      <img src="https://dl.dropboxusercontent.com/scl/fi/orf6i07ebo705jnq5tkx7/1744702095638.png?dl=1" alt="Image 5">
      <img src="https://dl.dropboxusercontent.com/scl/fi/yd5t9umsft1reuna9nq1x/8699159.jpg?dl=1" alt="Image 6">
      <img src="https://dl.dropboxusercontent.com/scl/fi/ih79814t1c2od22jmdbfw/8699161.jpg?dl=1" alt="Image 7">
      <img src="https://dl.dropboxusercontent.com/scl/fi/kr9qit5eg6nw7we78njaa/8699165.jpg?dl=1" alt="Image 8">
      <img src="https://dl.dropboxusercontent.com/scl/fi/uq2tr7ysg68sw3wg9cp8o/8699171.jpg?dl=1" alt="Image 9">
      <img src="https://dl.dropboxusercontent.com/scl/fi/6e0xw24a0041ty4j1dpzi/8699187.jpg?dl=1" alt="Image 10">
    </div>
  </div>
  <script>
    // Firebase config
    const firebaseConfig = { apiKey: "AIzaSyBV7Jg0BVzeCNQW9oiI...", authDomain: "squadvertex2007.firebaseapp.com", projectId: "squadvertex2007", storageBucket: "squadvertex2007.appspot.com", messagingSenderId: "168905083514", appId: "1:168905083514:web:c8bbe2ce9f87800a0f09c3" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const email = 'me@myemail.com';
    const quotes = [
      "No matter what we build—let's never forget who we’re building it for.",
      "Some people seek peace in silence. I found mine in a smile I’ve never met.",
      "Every evening, I carry your hope like a lantern through the night.",
      "In each sunrise I see the promise of a new reason to smile for you."
    ];
    function formatDate(d) { return d.toISOString().split('T')[0]; }
    function randomQuote() { return quotes[Math.floor(Math.random()*quotes.length)]; }
    async function loadData() {
      document.getElementById('quote').innerText = randomQuote();
      const recRef = db.collection('routines').doc(email).collection('records');
      const snap = await recRef.orderBy('date','desc').limit(30).get();
      const records = snap.docs.map(d=>d.data());
      // history
      const tbody = document.getElementById('historyBody'); tbody.innerHTML = '';
      records.slice(0,7).forEach(r=> tbody.innerHTML += `<tr><td>${r.date}</td><td>${r.status}</td></tr>`);
      // streak
      let streak=0, d=new Date(); while(true){ const key=formatDate(d); if(records.find(r=>r.date===key && r.status==='Yes')){ streak++; d.setDate(d.getDate()-1);}else break;}
      document.getElementById('streakCount').innerText = streak;
      // 7-day chart
      const last7 = records.slice(0,7).reverse();
      new Chart(document.getElementById('chart'),{ type:'bar', data:{ labels:last7.map(r=>r.date), datasets:[{ data:last7.map(r=>r.status==='Yes'?1:0), backgroundColor:last7.map(r=>r.status==='Yes'? '#4caf50':'#f44336') }]}, options:{ scales:{ y:{ beginAtZero:true, max:1, ticks:{ stepSize:1 } }}, plugins:{ legend:{ display:false }}} });
      // monthly summary
      const allRecords = snap.docs.map(d=>d.data());
      const months = [];
      for(let i=5;i>=0;i--){ const dt=new Date(); dt.setMonth(dt.getMonth()-i); months.push(`${dt.getFullYear()}-${String(dt.getMonth()+1).padStart(2,'0')}`); }
      const counts = months.map(m=> allRecords.filter(r=>r.date.startsWith(m) && r.status==='Yes').length );
      new Chart(document.getElementById('lineChart'),{ type:'line', data:{ labels:months, datasets:[{ label:'Days Yes', data:counts, borderColor:'var(--accent)', backgroundColor:'rgba(255,106,136,0.4)', fill:true }]}, options:{ scales:{ y:{ beginAtZero:true, ticks:{ stepSize:1 }}} } });
    }
    function mark(status){ const date=formatDate(new Date()); db.collection('routines').doc(email).collection('records').doc(date).set({date,status,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).then(loadData); }
    document.getElementById('markYes').onclick = ()=>mark('Yes');
    document.getElementById('markNo').onclick = ()=>mark('No');
    window.onload = loadData;
  </script>
</body>
</html>